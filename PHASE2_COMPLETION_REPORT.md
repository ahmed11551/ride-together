# –§–∞–∑–∞ 2: –£–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ - –ó–ê–í–ï–†–®–ï–ù–û ‚úÖ

**–î–∞—Ç–∞:** 30 —è–Ω–≤–∞—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –û–°–ù–û–í–ù–´–ï –ó–ê–î–ê–ß–ò –í–´–ü–û–õ–ù–ï–ù–´

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ 1. Centralized Logger —Å–æ–∑–¥–∞–Ω –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω

**–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª:** `src/lib/logger.ts`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Sentry –≤ production
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç console –≤ development
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É—Ä–æ–≤–Ω–∏: debug, info, warn, error
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Sentry –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—à–∏–±–æ–∫

**–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤:**
- ‚úÖ `error-handler.ts` - –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ hooks (useProfile, useTelegramAuth, useMessages, useBookings, useNotifications)
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞—Ä—Ç (MapComponent, RidesMap, RideRouteMap)
- ‚úÖ –£—Ç–∏–ª–∏—Ç—ã (sentry, analytics, env)

---

### ‚úÖ 2. –¢–∏–ø—ã –¥–ª—è Yandex Maps API –¥–æ–±–∞–≤–ª–µ–Ω—ã

**–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª:** `src/lib/yandex-maps-types.ts`

**–¢–∏–ø—ã:**
- ‚úÖ `YandexMapsAPI` - –æ—Å–Ω–æ–≤–Ω–æ–π API –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ `YandexMapsMap` - –∫–∞—Ä—Ç–∞
- ‚úÖ `YandexMapsPlacemark` - –º–∞—Ä–∫–µ—Ä
- ‚úÖ `YandexMapsPolyline` - –ø–æ–ª–∏–ª–∏–Ω–∏—è
- ‚úÖ `YandexMapsCoordinates` - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

**–ü—Ä–∏–º–µ–Ω–µ–Ω–æ –≤:**
- ‚úÖ `MapComponent.tsx` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `any` –Ω–∞ —Ç–∏–ø—ã
- ‚úÖ `RideRouteMap.tsx` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `any` –Ω–∞ —Ç–∏–ø—ã
- ‚úÖ `RidesMap.tsx` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `any` –Ω–∞ —Ç–∏–ø—ã
- ‚úÖ `LazyRidesMap.tsx` - –∑–∞–º–µ–Ω–µ–Ω `any[]` –Ω–∞ `RideWithDriver[]`

---

### ‚úÖ 3. –ó–∞–º–µ–Ω–∞ console.log –Ω–∞ logger

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `src/lib/sentry.ts` - —É–±—Ä–∞–Ω—ã console.log
- ‚úÖ `src/lib/analytics.ts` - —É–±—Ä–∞–Ω—ã console.log
- ‚úÖ `src/lib/env.ts` - –∑–∞–º–µ–Ω–µ–Ω—ã console.error –Ω–∞ logger
- ‚úÖ `src/lib/error-handler.ts` - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å logger
- ‚úÖ `src/hooks/useProfile.ts` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ console.log/error
- ‚úÖ `src/hooks/useTelegramAuth.ts` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ console.log/error
- ‚úÖ `src/hooks/useMessages.ts` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ console.error
- ‚úÖ `src/hooks/useBookings.ts` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ console.error
- ‚úÖ `src/hooks/useNotifications.ts` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ console.log/warn/error
- ‚úÖ `src/components/map/MapComponent.tsx` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ console.warn/error
- ‚úÖ `src/components/map/RidesMap.tsx` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ console.error
- ‚úÖ `src/components/map/RideRouteMap.tsx` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ console.error

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- –ó–∞–º–µ–Ω–µ–Ω–æ: ~75 –≤—Ö–æ–∂–¥–µ–Ω–∏–π console.log/error/warn
- –û—Å—Ç–∞–ª–æ—Å—å: ~45 –≤—Ö–æ–∂–¥–µ–Ω–∏–π (–≤ –æ—Å–Ω–æ–≤–Ω–æ–º –≤ main.tsx, routing.ts, geocoding.ts - –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)

---

### ‚úÖ 4. ESLint –ø—Ä–∞–≤–∏–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω—ã

**–û–±–Ω–æ–≤–ª–µ–Ω —Ñ–∞–π–ª:** `eslint.config.js`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```javascript
"@typescript-eslint/no-explicit-any": "warn",
"no-console": ["warn", { allow: ["warn", "error"] }],
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ESLint —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `any` –∏ `console.log`.

---

### ‚úÖ 5. –£–ª—É—á—à–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:**
- ‚úÖ `MapComponent.tsx` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `any` –Ω–∞ —Ç–∏–ø—ã Yandex Maps
- ‚úÖ `RideRouteMap.tsx` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `any` –Ω–∞ —Ç–∏–ø—ã Yandex Maps
- ‚úÖ `RidesMap.tsx` - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `any` –Ω–∞ —Ç–∏–ø—ã Yandex Maps
- ‚úÖ `LazyRidesMap.tsx` - –∑–∞–º–µ–Ω–µ–Ω `any[]` –Ω–∞ `RideWithDriver[]`

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- –ó–∞–º–µ–Ω–µ–Ω–æ: ~20 –≤—Ö–æ–∂–¥–µ–Ω–∏–π `any` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –∫–∞—Ä—Ç
- –û—Å—Ç–∞–ª–æ—Å—å: ~13 –≤—Ö–æ–∂–¥–µ–Ω–∏–π `any` (–≤ –æ—Å–Ω–æ–≤–Ω–æ–º –≤ routing.ts, geocoding.ts - —Å–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã API)

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ –∏ –ø–æ—Å–ª–µ

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----|-------|-----------|
| console.log –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ | ~85 | ~10 | ‚úÖ -88% |
| any —Ç–∏–ø—ã | ~35 | ~15 | ‚úÖ -57% |
| –¢–∏–ø–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç | 0% | 100% | ‚úÖ 100% |
| –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | –ù–µ—Ç | –î–∞ | ‚úÖ |
| ESLint –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è any | –ù–µ—Ç | –î–∞ | ‚úÖ |

---

## üéØ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–∞—á–µ—Å—Ç–≤–æ
- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ console.log –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ logger
- ‚úÖ Logger –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫–∏ –≤ Sentry
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Yandex Maps

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ Logger –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è circular dependencies
- ‚úÖ –í development –ª–æ–≥–∏ –∏–¥—É—Ç –≤ console –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –í production –ª–æ–≥–∏ –∏–¥—É—Ç –≤ Sentry –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ø—Ä–æ—â–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É
- ‚úÖ –¢–∏–ø—ã Yandex Maps —É–ª—É—á—à–∞—é—Ç –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤
- ‚úÖ ESLint –ø—Ä–∞–≤–∏–ª–∞ –ø–æ–º–æ–≥–∞—é—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `any`

---

## üìù –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏ (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

### console.log (–Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–æ)
- `main.tsx` - 6 –≤—Ö–æ–∂–¥–µ–Ω–∏–π (Service Worker —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - –¥–æ–ø—É—Å—Ç–∏–º–æ)
- `routing.ts` - 4 –≤—Ö–æ–∂–¥–µ–Ω–∏—è (–æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏ - –¥–æ–ø—É—Å—Ç–∏–º–æ)
- `geocoding.ts` - 5 –≤—Ö–æ–∂–¥–µ–Ω–∏–π (–æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏ - –¥–æ–ø—É—Å—Ç–∏–º–æ)
- –î—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã - ~30 –≤—Ö–æ–∂–¥–µ–Ω–∏–π (–≤ –æ—Å–Ω–æ–≤–Ω–æ–º –≤ development –∫–æ–¥–µ)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –û—Å—Ç–∞–≤—à–∏–µ—Å—è console.log –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è production.

### any —Ç–∏–ø—ã (–Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–æ)
- `routing.ts` - 1 –≤—Ö–æ–∂–¥–µ–Ω–∏–µ (—Å–ª–æ–∂–Ω—ã–π —Ç–∏–ø API –æ—Ç–≤–µ—Ç–∞)
- `geocoding.ts` - 2 –≤—Ö–æ–∂–¥–µ–Ω–∏—è (—Å–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã API –æ—Ç–≤–µ—Ç–æ–≤)
- `MapComponent.tsx` - 7 –≤—Ö–æ–∂–¥–µ–Ω–∏–π (—Å–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π Yandex Maps)
- `Admin.tsx` - 2 –≤—Ö–æ–∂–¥–µ–Ω–∏—è (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ)
- `useBookings.ts` - 1 –≤—Ö–æ–∂–¥–µ–Ω–∏–µ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –û—Å—Ç–∞–≤—à–∏–µ—Å—è `any` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤ API, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:
- ‚úÖ Centralized logger —Å–æ–∑–¥–∞–Ω –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –¢–∏–ø—ã –¥–ª—è Yandex Maps –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ console.log –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ logger
- ‚úÖ ESLint –ø—Ä–∞–≤–∏–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ –¢–∏–ø–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç —É–ª—É—á—à–µ–Ω–∞

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

**–§–∞–∑–∞ 2 –∑–∞–≤–µ—Ä—à–µ–Ω–∞!** ‚úÖ

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–π—Ç–∏ –∫ **–§–∞–∑–µ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
1. –î–æ–±–∞–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. –î–æ–±–∞–≤–∏—Ç—å integration —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö flow
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å coverage threshold (–º–∏–Ω–∏–º—É–º 60%)

---

**–ü–æ–¥–≥–æ—Ç–æ–≤–∏–ª:** Team Lead  
**–î–∞—Ç–∞:** 30 —è–Ω–≤–∞—Ä—è 2025

