# ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞!

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã –ë–î

–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω—ã:

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- ‚úÖ `users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–∑–∞–º–µ–Ω–∞ auth.users –∏–∑ Supabase)
- ‚úÖ `sessions` - –°–µ—Å—Å–∏–∏ –¥–ª—è JWT —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ `profiles` - –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ `rides` - –ü–æ–µ–∑–¥–∫–∏
- ‚úÖ `bookings` - –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ `reviews` - –û—Ç–∑—ã–≤—ã
- ‚úÖ `messages` - –°–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ
- ‚úÖ `reports` - –ñ–∞–ª–æ–±—ã
- ‚úÖ `driver_info` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–æ–¥–∏—Ç–µ–ª—è—Ö

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- ‚úÖ `bot_users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Telegram –±–æ—Ç–∞
- ‚úÖ `bot_reviews` - –û—Ç–∑—ã–≤—ã —á–µ—Ä–µ–∑ Telegram
- ‚úÖ `referrals` - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
- ‚úÖ `subscriptions` - –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ Telegram –±–æ—Ç–∞
- ‚úÖ `telegram_subscriptions` - –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ `support_tickets` - –¢–∏–∫–µ—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### –§—É–Ω–∫—Ü–∏–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã:
- ‚úÖ `cleanup_expired_sessions` - –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–µ–∫—à–∏—Ö —Å–µ—Å—Å–∏–π
- ‚úÖ `cleanup_old_rides` - –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ø–æ–µ–∑–¥–æ–∫
- ‚úÖ `current_user_id` - –ü–æ–ª—É—á–µ–Ω–∏–µ ID —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ `update_user_ratings` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
- ‚úÖ –ò –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏...

### –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:
- ‚úÖ `ride_status` - –°—Ç–∞—Ç—É—Å—ã –ø–æ–µ–∑–¥–æ–∫
- ‚úÖ `booking_status` - –°—Ç–∞—Ç—É—Å—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- ‚úÖ `payment_status` - –°—Ç–∞—Ç—É—Å—ã –ø–ª–∞—Ç–µ–∂–µ–π

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**Backend (`server/.env.production`):**
```bash
# Database (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
DATABASE_URL=postgresql://gen_user:fn)un5%40K2oLrBJ@9d497bc2bf9dd679bd9834af.twc1.net:5432/default_db?sslmode=verify-full

# CORS - –ó–ê–ú–ï–ù–ò–¢–ï –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π frontend –¥–æ–º–µ–Ω!
ALLOWED_ORIGINS=https://–≤–∞—à-frontend-–¥–æ–º–µ–Ω.twc1.net
FRONTEND_URL=https://–≤–∞—à-frontend-–¥–æ–º–µ–Ω.twc1.net
```

**Frontend (`.env.production` –≤ –∫–æ—Ä–Ω–µ):**
```bash
# –ó–ê–ú–ï–ù–ò–¢–ï –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π backend –¥–æ–º–µ–Ω!
VITE_API_URL=https://–≤–∞—à-backend-–¥–æ–º–µ–Ω.twc1.net
VITE_WS_URL=wss://–≤–∞—à-backend-–¥–æ–º–µ–Ω.twc1.net
```

### 2. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ Backend

1. **–í Timeweb Dashboard:**
   - –°–æ–∑–¥–∞–π—Ç–µ/–æ—Ç–∫—Ä–æ–π—Ç–µ **Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ **GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
   - **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
     - –ü—É—Ç—å: `server` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
     - Build: `npm install`
     - Start: `npm start`
     - Node.js: `20` –∏–ª–∏ `22`

2. **Environment Variables** (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è):
   - –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `server/.env.production`
   - –ò–ª–∏ Timeweb –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç `.env.production` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π**

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞:**
   ```
   https://–≤–∞—à-backend-–¥–æ–º–µ–Ω.twc1.net/health
   ```
   –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: `{"status":"ok"}`

### 3. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ Frontend

1. **–í Timeweb Dashboard:**
   - –°–æ–∑–¥–∞–π—Ç–µ/–æ—Ç–∫—Ä–æ–π—Ç–µ **Static Site** –∏–ª–∏ **React App**
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ **GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
   - **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
     - Framework: `React` –∏–ª–∏ `Vite`
     - Build: `npm run build`
     - Directory: `dist`
     - Node.js: `20` –∏–ª–∏ `22`

2. **Environment Variables** (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è):
   - –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env.production`
   - –ò–ª–∏ Timeweb –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç `.env.production` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π**

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   - –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

1. **Backend —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - `/health` endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"status":"ok"}`
   - –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î —É—Å–ø–µ—à–Ω–æ

2. **Frontend —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –°–∞–π—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
   - –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
   - –ú–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
   - –ú–æ–∂–Ω–æ –≤–æ–π—Ç–∏

3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã ‚úÖ
   - –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–µ–∑–¥–∫–∏

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ:
1. ‚úÖ –£–∫–∞–∑–∞—Ç—å –¥–æ–º–µ–Ω—ã –≤ `.env.production` —Ñ–∞–π–ª–∞—Ö
2. ‚úÖ –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å backend
3. ‚úÖ –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å frontend

–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ —É–∂–µ –≥–æ—Ç–æ–≤–æ! üöÄ
